{"remainingRequest":"E:\\I0\\xxx-admin\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\I0\\xxx-admin\\vue\\node_modules\\element-ui\\packages\\select\\src\\select.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\I0\\xxx-admin\\vue\\node_modules\\element-ui\\packages\\select\\src\\select.vue","mtime":499162500000},{"path":"E:\\I0\\xxx-admin\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\I0\\xxx-admin\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\I0\\xxx-admin\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\I0\\xxx-admin\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBFbWl0dGVyIGZyb20gJ2VsZW1lbnQtdWkvc3JjL21peGlucy9lbWl0dGVyJzsKaW1wb3J0IEZvY3VzIGZyb20gJ2VsZW1lbnQtdWkvc3JjL21peGlucy9mb2N1cyc7CmltcG9ydCBMb2NhbGUgZnJvbSAnZWxlbWVudC11aS9zcmMvbWl4aW5zL2xvY2FsZSc7CmltcG9ydCBFbElucHV0IGZyb20gJ2VsZW1lbnQtdWkvcGFja2FnZXMvaW5wdXQnOwppbXBvcnQgRWxTZWxlY3RNZW51IGZyb20gJy4vc2VsZWN0LWRyb3Bkb3duLnZ1ZSc7CmltcG9ydCBFbE9wdGlvbiBmcm9tICcuL29wdGlvbi52dWUnOwppbXBvcnQgRWxUYWcgZnJvbSAnZWxlbWVudC11aS9wYWNrYWdlcy90YWcnOwppbXBvcnQgRWxTY3JvbGxiYXIgZnJvbSAnZWxlbWVudC11aS9wYWNrYWdlcy9zY3JvbGxiYXInOwppbXBvcnQgZGVib3VuY2UgZnJvbSAndGhyb3R0bGUtZGVib3VuY2UvZGVib3VuY2UnOwppbXBvcnQgQ2xpY2tvdXRzaWRlIGZyb20gJ2VsZW1lbnQtdWkvc3JjL3V0aWxzL2NsaWNrb3V0c2lkZSc7CmltcG9ydCB7IGFkZFJlc2l6ZUxpc3RlbmVyLCByZW1vdmVSZXNpemVMaXN0ZW5lciB9IGZyb20gJ2VsZW1lbnQtdWkvc3JjL3V0aWxzL3Jlc2l6ZS1ldmVudCc7CmltcG9ydCBzY3JvbGxJbnRvVmlldyBmcm9tICdlbGVtZW50LXVpL3NyYy91dGlscy9zY3JvbGwtaW50by12aWV3JzsKaW1wb3J0IHsgZ2V0VmFsdWVCeVBhdGgsIHZhbHVlRXF1YWxzLCBpc0lFLCBpc0VkZ2UgfSBmcm9tICdlbGVtZW50LXVpL3NyYy91dGlscy91dGlsJzsKaW1wb3J0IE5hdmlnYXRpb25NaXhpbiBmcm9tICcuL25hdmlnYXRpb24tbWl4aW4nOwppbXBvcnQgeyBpc0tvcmVhbiB9IGZyb20gJ2VsZW1lbnQtdWkvc3JjL3V0aWxzL3NoYXJlZCc7CgpleHBvcnQgZGVmYXVsdCB7CiAgbWl4aW5zOiBbRW1pdHRlciwgTG9jYWxlLCBGb2N1cygncmVmZXJlbmNlJyksIE5hdmlnYXRpb25NaXhpbl0sCgogIG5hbWU6ICdFbFNlbGVjdCcsCgogIGNvbXBvbmVudE5hbWU6ICdFbFNlbGVjdCcsCgogIGluamVjdDogewogICAgZWxGb3JtOiB7CiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9LAoKICAgIGVsRm9ybUl0ZW06IHsKICAgICAgZGVmYXVsdDogJycKICAgIH0KICB9LAoKICBwcm92aWRlKCkgewogICAgcmV0dXJuIHsKICAgICAgJ3NlbGVjdCc6IHRoaXMKICAgIH07CiAgfSwKCiAgY29tcHV0ZWQ6IHsKICAgIF9lbEZvcm1JdGVtU2l6ZSgpIHsKICAgICAgcmV0dXJuICh0aGlzLmVsRm9ybUl0ZW0gfHwge30pLmVsRm9ybUl0ZW1TaXplOwogICAgfSwKCiAgICByZWFkb25seSgpIHsKICAgICAgcmV0dXJuICF0aGlzLmZpbHRlcmFibGUgfHwgdGhpcy5tdWx0aXBsZSB8fCAoIWlzSUUoKSAmJiAhaXNFZGdlKCkgJiYgIXRoaXMudmlzaWJsZSk7CiAgICB9LAoKICAgIHNob3dDbG9zZSgpIHsKICAgICAgbGV0IGhhc1ZhbHVlID0gdGhpcy5tdWx0aXBsZQogICAgICAgID8gQXJyYXkuaXNBcnJheSh0aGlzLnZhbHVlKSAmJiB0aGlzLnZhbHVlLmxlbmd0aCA+IDAKICAgICAgICA6IHRoaXMudmFsdWUgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnZhbHVlICE9PSBudWxsICYmIHRoaXMudmFsdWUgIT09ICcnOwogICAgICBsZXQgY3JpdGVyaWEgPSB0aGlzLmNsZWFyYWJsZSAmJgogICAgICAgICF0aGlzLnNlbGVjdERpc2FibGVkICYmCiAgICAgICAgdGhpcy5pbnB1dEhvdmVyaW5nICYmCiAgICAgICAgaGFzVmFsdWU7CiAgICAgIHJldHVybiBjcml0ZXJpYTsKICAgIH0sCgogICAgaWNvbkNsYXNzKCkgewogICAgICByZXR1cm4gdGhpcy5yZW1vdGUgJiYgdGhpcy5maWx0ZXJhYmxlID8gJycgOiAodGhpcy52aXNpYmxlID8gJ2Fycm93LXVwIGlzLXJldmVyc2UnIDogJ2Fycm93LXVwJyk7CiAgICB9LAoKICAgIGRlYm91bmNlKCkgewogICAgICByZXR1cm4gdGhpcy5yZW1vdGUgPyAzMDAgOiAwOwogICAgfSwKCiAgICBlbXB0eVRleHQoKSB7CiAgICAgIGlmICh0aGlzLmxvYWRpbmcpIHsKICAgICAgICByZXR1cm4gdGhpcy5sb2FkaW5nVGV4dCB8fCB0aGlzLnQoJ2VsLnNlbGVjdC5sb2FkaW5nJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKHRoaXMucmVtb3RlICYmIHRoaXMucXVlcnkgPT09ICcnICYmIHRoaXMub3B0aW9ucy5sZW5ndGggPT09IDApIHJldHVybiBmYWxzZTsKICAgICAgICBpZiAodGhpcy5maWx0ZXJhYmxlICYmIHRoaXMucXVlcnkgJiYgdGhpcy5vcHRpb25zLmxlbmd0aCA+IDAgJiYgdGhpcy5maWx0ZXJlZE9wdGlvbnNDb3VudCA9PT0gMCkgewogICAgICAgICAgcmV0dXJuIHRoaXMubm9NYXRjaFRleHQgfHwgdGhpcy50KCdlbC5zZWxlY3Qubm9NYXRjaCcpOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5vcHRpb25zLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgcmV0dXJuIHRoaXMubm9EYXRhVGV4dCB8fCB0aGlzLnQoJ2VsLnNlbGVjdC5ub0RhdGEnKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIG51bGw7CiAgICB9LAoKICAgIHNob3dOZXdPcHRpb24oKSB7CiAgICAgIGxldCBoYXNFeGlzdGluZ09wdGlvbiA9IHRoaXMub3B0aW9ucy5maWx0ZXIob3B0aW9uID0+ICFvcHRpb24uY3JlYXRlZCkKICAgICAgICAuc29tZShvcHRpb24gPT4gb3B0aW9uLmN1cnJlbnRMYWJlbCA9PT0gdGhpcy5xdWVyeSk7CiAgICAgIHJldHVybiB0aGlzLmZpbHRlcmFibGUgJiYgdGhpcy5hbGxvd0NyZWF0ZSAmJiB0aGlzLnF1ZXJ5ICE9PSAnJyAmJiAhaGFzRXhpc3RpbmdPcHRpb247CiAgICB9LAoKICAgIHNlbGVjdFNpemUoKSB7CiAgICAgIHJldHVybiB0aGlzLnNpemUgfHwgdGhpcy5fZWxGb3JtSXRlbVNpemUgfHwgKHRoaXMuJEVMRU1FTlQgfHwge30pLnNpemU7CiAgICB9LAoKICAgIHNlbGVjdERpc2FibGVkKCkgewogICAgICByZXR1cm4gdGhpcy5kaXNhYmxlZCB8fCAodGhpcy5lbEZvcm0gfHwge30pLmRpc2FibGVkOwogICAgfSwKCiAgICBjb2xsYXBzZVRhZ1NpemUoKSB7CiAgICAgIHJldHVybiBbJ3NtYWxsJywgJ21pbmknXS5pbmRleE9mKHRoaXMuc2VsZWN0U2l6ZSkgPiAtMQogICAgICAgID8gJ21pbmknCiAgICAgICAgOiAnc21hbGwnOwogICAgfSwKICAgIHByb3BQbGFjZWhvbGRlcigpIHsKICAgICAgcmV0dXJuIHR5cGVvZiB0aGlzLnBsYWNlaG9sZGVyICE9PSAndW5kZWZpbmVkJyA/IHRoaXMucGxhY2Vob2xkZXIgOiB0aGlzLnQoJ2VsLnNlbGVjdC5wbGFjZWhvbGRlcicpOwogICAgfQogIH0sCgogIGNvbXBvbmVudHM6IHsKICAgIEVsSW5wdXQsCiAgICBFbFNlbGVjdE1lbnUsCiAgICBFbE9wdGlvbiwKICAgIEVsVGFnLAogICAgRWxTY3JvbGxiYXIKICB9LAoKICBkaXJlY3RpdmVzOiB7IENsaWNrb3V0c2lkZSB9LAoKICBwcm9wczogewogICAgbmFtZTogU3RyaW5nLAogICAgaWQ6IFN0cmluZywKICAgIHZhbHVlOiB7CiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgYXV0b2NvbXBsZXRlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ29mZicKICAgIH0sCiAgICAvKiogQERlcHJlY2F0ZWQgaW4gbmV4dCBtYWpvciB2ZXJzaW9uICovCiAgICBhdXRvQ29tcGxldGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICB2YWxpZGF0b3IodmFsKSB7CiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJgogICAgICAgICAgY29uc29sZS53YXJuKCdbRWxlbWVudCBXYXJuXVtTZWxlY3RdXCdhdXRvLWNvbXBsZXRlXCcgcHJvcGVydHkgd2lsbCBiZSBkZXByZWNhdGVkIGluIG5leHQgbWFqb3IgdmVyc2lvbi4gcGxlYXNlIHVzZSBcJ2F1dG9jb21wbGV0ZVwnIGluc3RlYWQuJyk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH0sCiAgICBhdXRvbWF0aWNEcm9wZG93bjogQm9vbGVhbiwKICAgIHNpemU6IFN0cmluZywKICAgIGRpc2FibGVkOiBCb29sZWFuLAogICAgY2xlYXJhYmxlOiBCb29sZWFuLAogICAgZmlsdGVyYWJsZTogQm9vbGVhbiwKICAgIGFsbG93Q3JlYXRlOiBCb29sZWFuLAogICAgbG9hZGluZzogQm9vbGVhbiwKICAgIHBvcHBlckNsYXNzOiBTdHJpbmcsCiAgICByZW1vdGU6IEJvb2xlYW4sCiAgICBsb2FkaW5nVGV4dDogU3RyaW5nLAogICAgbm9NYXRjaFRleHQ6IFN0cmluZywKICAgIG5vRGF0YVRleHQ6IFN0cmluZywKICAgIHJlbW90ZU1ldGhvZDogRnVuY3Rpb24sCiAgICBmaWx0ZXJNZXRob2Q6IEZ1bmN0aW9uLAogICAgbXVsdGlwbGU6IEJvb2xlYW4sCiAgICBtdWx0aXBsZUxpbWl0OiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMAogICAgfSwKICAgIHBsYWNlaG9sZGVyOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IGZhbHNlCiAgICB9LAogICAgZGVmYXVsdEZpcnN0T3B0aW9uOiBCb29sZWFuLAogICAgcmVzZXJ2ZUtleXdvcmQ6IEJvb2xlYW4sCiAgICB2YWx1ZUtleTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICd2YWx1ZScKICAgIH0sCiAgICBjb2xsYXBzZVRhZ3M6IEJvb2xlYW4sCiAgICBwb3BwZXJBcHBlbmRUb0JvZHk6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfQogIH0sCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBvcHRpb25zOiBbXSwKICAgICAgY2FjaGVkT3B0aW9uczogW10sCiAgICAgIGNyZWF0ZWRMYWJlbDogbnVsbCwKICAgICAgY3JlYXRlZFNlbGVjdGVkOiBmYWxzZSwKICAgICAgc2VsZWN0ZWQ6IHRoaXMubXVsdGlwbGUgPyBbXSA6IHt9LAogICAgICBpbnB1dExlbmd0aDogMjAsCiAgICAgIGlucHV0V2lkdGg6IDAsCiAgICAgIGluaXRpYWxJbnB1dEhlaWdodDogMCwKICAgICAgY2FjaGVkUGxhY2VIb2xkZXI6ICcnLAogICAgICBvcHRpb25zQ291bnQ6IDAsCiAgICAgIGZpbHRlcmVkT3B0aW9uc0NvdW50OiAwLAogICAgICB2aXNpYmxlOiBmYWxzZSwKICAgICAgc29mdEZvY3VzOiBmYWxzZSwKICAgICAgc2VsZWN0ZWRMYWJlbDogJycsCiAgICAgIGhvdmVySW5kZXg6IC0xLAogICAgICBxdWVyeTogJycsCiAgICAgIHByZXZpb3VzUXVlcnk6IG51bGwsCiAgICAgIGlucHV0SG92ZXJpbmc6IGZhbHNlLAogICAgICBjdXJyZW50UGxhY2Vob2xkZXI6ICcnLAogICAgICBtZW51VmlzaWJsZU9uRm9jdXM6IGZhbHNlLAogICAgICBpc09uQ29tcG9zaXRpb246IGZhbHNlLAogICAgICBpc1NpbGVudEJsdXI6IGZhbHNlCiAgICB9OwogIH0sCgogIHdhdGNoOiB7CiAgICBzZWxlY3REaXNhYmxlZCgpIHsKICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIHRoaXMucmVzZXRJbnB1dEhlaWdodCgpOwogICAgICB9KTsKICAgIH0sCgogICAgcHJvcFBsYWNlaG9sZGVyKHZhbCkgewogICAgICB0aGlzLmNhY2hlZFBsYWNlSG9sZGVyID0gdGhpcy5jdXJyZW50UGxhY2Vob2xkZXIgPSB2YWw7CiAgICB9LAoKICAgIHZhbHVlKHZhbCwgb2xkVmFsKSB7CiAgICAgIGlmICh0aGlzLm11bHRpcGxlKSB7CiAgICAgICAgdGhpcy5yZXNldElucHV0SGVpZ2h0KCk7CiAgICAgICAgaWYgKCh2YWwgJiYgdmFsLmxlbmd0aCA+IDApIHx8ICh0aGlzLiRyZWZzLmlucHV0ICYmIHRoaXMucXVlcnkgIT09ICcnKSkgewogICAgICAgICAgdGhpcy5jdXJyZW50UGxhY2Vob2xkZXIgPSAnJzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5jdXJyZW50UGxhY2Vob2xkZXIgPSB0aGlzLmNhY2hlZFBsYWNlSG9sZGVyOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5maWx0ZXJhYmxlICYmICF0aGlzLnJlc2VydmVLZXl3b3JkKSB7CiAgICAgICAgICB0aGlzLnF1ZXJ5ID0gJyc7CiAgICAgICAgICB0aGlzLmhhbmRsZVF1ZXJ5Q2hhbmdlKHRoaXMucXVlcnkpOwogICAgICAgIH0KICAgICAgfQogICAgICB0aGlzLnNldFNlbGVjdGVkKCk7CiAgICAgIGlmICh0aGlzLmZpbHRlcmFibGUgJiYgIXRoaXMubXVsdGlwbGUpIHsKICAgICAgICB0aGlzLmlucHV0TGVuZ3RoID0gMjA7CiAgICAgIH0KICAgICAgaWYgKCF2YWx1ZUVxdWFscyh2YWwsIG9sZFZhbCkpIHsKICAgICAgICB0aGlzLmRpc3BhdGNoKCdFbEZvcm1JdGVtJywgJ2VsLmZvcm0uY2hhbmdlJywgdmFsKTsKICAgICAgfQogICAgfSwKCiAgICB2aXNpYmxlKHZhbCkgewogICAgICBpZiAoIXZhbCkgewogICAgICAgIHRoaXMuYnJvYWRjYXN0KCdFbFNlbGVjdERyb3Bkb3duJywgJ2Rlc3Ryb3lQb3BwZXInKTsKICAgICAgICBpZiAodGhpcy4kcmVmcy5pbnB1dCkgewogICAgICAgICAgdGhpcy4kcmVmcy5pbnB1dC5ibHVyKCk7CiAgICAgICAgfQogICAgICAgIHRoaXMucXVlcnkgPSAnJzsKICAgICAgICB0aGlzLnByZXZpb3VzUXVlcnkgPSBudWxsOwogICAgICAgIHRoaXMuc2VsZWN0ZWRMYWJlbCA9ICcnOwogICAgICAgIHRoaXMuaW5wdXRMZW5ndGggPSAyMDsKICAgICAgICB0aGlzLm1lbnVWaXNpYmxlT25Gb2N1cyA9IGZhbHNlOwogICAgICAgIHRoaXMucmVzZXRIb3ZlckluZGV4KCk7CiAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgICAgaWYgKHRoaXMuJHJlZnMuaW5wdXQgJiYKICAgICAgICAgICAgdGhpcy4kcmVmcy5pbnB1dC52YWx1ZSA9PT0gJycgJiYKICAgICAgICAgICAgdGhpcy5zZWxlY3RlZC5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgdGhpcy5jdXJyZW50UGxhY2Vob2xkZXIgPSB0aGlzLmNhY2hlZFBsYWNlSG9sZGVyOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIGlmICghdGhpcy5tdWx0aXBsZSkgewogICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWQpIHsKICAgICAgICAgICAgaWYgKHRoaXMuZmlsdGVyYWJsZSAmJiB0aGlzLmFsbG93Q3JlYXRlICYmCiAgICAgICAgICAgICAgdGhpcy5jcmVhdGVkU2VsZWN0ZWQgJiYgdGhpcy5jcmVhdGVkTGFiZWwpIHsKICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkTGFiZWwgPSB0aGlzLmNyZWF0ZWRMYWJlbDsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkTGFiZWwgPSB0aGlzLnNlbGVjdGVkLmN1cnJlbnRMYWJlbDsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAodGhpcy5maWx0ZXJhYmxlKSB0aGlzLnF1ZXJ5ID0gdGhpcy5zZWxlY3RlZExhYmVsOwogICAgICAgICAgfQoKICAgICAgICAgIGlmICh0aGlzLmZpbHRlcmFibGUpIHsKICAgICAgICAgICAgdGhpcy5jdXJyZW50UGxhY2Vob2xkZXIgPSB0aGlzLmNhY2hlZFBsYWNlSG9sZGVyOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmJyb2FkY2FzdCgnRWxTZWxlY3REcm9wZG93bicsICd1cGRhdGVQb3BwZXInKTsKICAgICAgICBpZiAodGhpcy5maWx0ZXJhYmxlKSB7CiAgICAgICAgICB0aGlzLnF1ZXJ5ID0gdGhpcy5yZW1vdGUgPyAnJyA6IHRoaXMuc2VsZWN0ZWRMYWJlbDsKICAgICAgICAgIHRoaXMuaGFuZGxlUXVlcnlDaGFuZ2UodGhpcy5xdWVyeSk7CiAgICAgICAgICBpZiAodGhpcy5tdWx0aXBsZSkgewogICAgICAgICAgICB0aGlzLiRyZWZzLmlucHV0LmZvY3VzKCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAoIXRoaXMucmVtb3RlKSB7CiAgICAgICAgICAgICAgdGhpcy5icm9hZGNhc3QoJ0VsT3B0aW9uJywgJ3F1ZXJ5Q2hhbmdlJywgJycpOwogICAgICAgICAgICAgIHRoaXMuYnJvYWRjYXN0KCdFbE9wdGlvbkdyb3VwJywgJ3F1ZXJ5Q2hhbmdlJyk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkTGFiZWwpIHsKICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQbGFjZWhvbGRlciA9IHRoaXMuc2VsZWN0ZWRMYWJlbDsKICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkTGFiZWwgPSAnJzsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgICB0aGlzLiRlbWl0KCd2aXNpYmxlLWNoYW5nZScsIHZhbCk7CiAgICB9LAoKICAgIG9wdGlvbnMoKSB7CiAgICAgIGlmICh0aGlzLiRpc1NlcnZlcikgcmV0dXJuOwogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgdGhpcy5icm9hZGNhc3QoJ0VsU2VsZWN0RHJvcGRvd24nLCAndXBkYXRlUG9wcGVyJyk7CiAgICAgIH0pOwogICAgICBpZiAodGhpcy5tdWx0aXBsZSkgewogICAgICAgIHRoaXMucmVzZXRJbnB1dEhlaWdodCgpOwogICAgICB9CiAgICAgIGxldCBpbnB1dHMgPSB0aGlzLiRlbC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCcpOwogICAgICBpZiAoW10uaW5kZXhPZi5jYWxsKGlucHV0cywgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkgPT09IC0xKSB7CiAgICAgICAgdGhpcy5zZXRTZWxlY3RlZCgpOwogICAgICB9CiAgICAgIGlmICh0aGlzLmRlZmF1bHRGaXJzdE9wdGlvbiAmJiAodGhpcy5maWx0ZXJhYmxlIHx8IHRoaXMucmVtb3RlKSAmJiB0aGlzLmZpbHRlcmVkT3B0aW9uc0NvdW50KSB7CiAgICAgICAgdGhpcy5jaGVja0RlZmF1bHRGaXJzdE9wdGlvbigpOwogICAgICB9CiAgICB9CiAgfSwKCiAgbWV0aG9kczogewogICAgaGFuZGxlQ29tcG9zaXRpb24oZXZlbnQpIHsKICAgICAgY29uc3QgdGV4dCA9IGV2ZW50LnRhcmdldC52YWx1ZTsKICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICdjb21wb3NpdGlvbmVuZCcpIHsKICAgICAgICB0aGlzLmlzT25Db21wb3NpdGlvbiA9IGZhbHNlOwogICAgICAgIHRoaXMuJG5leHRUaWNrKF8gPT4gdGhpcy5oYW5kbGVRdWVyeUNoYW5nZSh0ZXh0KSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc3QgbGFzdENoYXJhY3RlciA9IHRleHRbdGV4dC5sZW5ndGggLSAxXSB8fCAnJzsKICAgICAgICB0aGlzLmlzT25Db21wb3NpdGlvbiA9ICFpc0tvcmVhbihsYXN0Q2hhcmFjdGVyKTsKICAgICAgfQogICAgfSwKICAgIGhhbmRsZVF1ZXJ5Q2hhbmdlKHZhbCkgewogICAgICBpZiAodGhpcy5wcmV2aW91c1F1ZXJ5ID09PSB2YWwgfHwgdGhpcy5pc09uQ29tcG9zaXRpb24pIHJldHVybjsKICAgICAgaWYgKAogICAgICAgIHRoaXMucHJldmlvdXNRdWVyeSA9PT0gbnVsbCAmJgogICAgICAgICh0eXBlb2YgdGhpcy5maWx0ZXJNZXRob2QgPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIHRoaXMucmVtb3RlTWV0aG9kID09PSAnZnVuY3Rpb24nKQogICAgICApIHsKICAgICAgICB0aGlzLnByZXZpb3VzUXVlcnkgPSB2YWw7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMucHJldmlvdXNRdWVyeSA9IHZhbDsKICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIGlmICh0aGlzLnZpc2libGUpIHRoaXMuYnJvYWRjYXN0KCdFbFNlbGVjdERyb3Bkb3duJywgJ3VwZGF0ZVBvcHBlcicpOwogICAgICB9KTsKICAgICAgdGhpcy5ob3ZlckluZGV4ID0gLTE7CiAgICAgIGlmICh0aGlzLm11bHRpcGxlICYmIHRoaXMuZmlsdGVyYWJsZSkgewogICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IHRoaXMuJHJlZnMuaW5wdXQudmFsdWUubGVuZ3RoICogMTUgKyAyMDsKICAgICAgICAgIHRoaXMuaW5wdXRMZW5ndGggPSB0aGlzLmNvbGxhcHNlVGFncyA/IE1hdGgubWluKDUwLCBsZW5ndGgpIDogbGVuZ3RoOwogICAgICAgICAgdGhpcy5tYW5hZ2VQbGFjZWhvbGRlcigpOwogICAgICAgICAgdGhpcy5yZXNldElucHV0SGVpZ2h0KCk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgaWYgKHRoaXMucmVtb3RlICYmIHR5cGVvZiB0aGlzLnJlbW90ZU1ldGhvZCA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgIHRoaXMuaG92ZXJJbmRleCA9IC0xOwogICAgICAgIHRoaXMucmVtb3RlTWV0aG9kKHZhbCk7CiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoaXMuZmlsdGVyTWV0aG9kID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgdGhpcy5maWx0ZXJNZXRob2QodmFsKTsKICAgICAgICB0aGlzLmJyb2FkY2FzdCgnRWxPcHRpb25Hcm91cCcsICdxdWVyeUNoYW5nZScpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZmlsdGVyZWRPcHRpb25zQ291bnQgPSB0aGlzLm9wdGlvbnNDb3VudDsKICAgICAgICB0aGlzLmJyb2FkY2FzdCgnRWxPcHRpb24nLCAncXVlcnlDaGFuZ2UnLCB2YWwpOwogICAgICAgIHRoaXMuYnJvYWRjYXN0KCdFbE9wdGlvbkdyb3VwJywgJ3F1ZXJ5Q2hhbmdlJyk7CiAgICAgIH0KICAgICAgaWYgKHRoaXMuZGVmYXVsdEZpcnN0T3B0aW9uICYmICh0aGlzLmZpbHRlcmFibGUgfHwgdGhpcy5yZW1vdGUpICYmIHRoaXMuZmlsdGVyZWRPcHRpb25zQ291bnQpIHsKICAgICAgICB0aGlzLmNoZWNrRGVmYXVsdEZpcnN0T3B0aW9uKCk7CiAgICAgIH0KICAgIH0sCgogICAgc2Nyb2xsVG9PcHRpb24ob3B0aW9uKSB7CiAgICAgIGNvbnN0IHRhcmdldCA9IEFycmF5LmlzQXJyYXkob3B0aW9uKSAmJiBvcHRpb25bMF0gPyBvcHRpb25bMF0uJGVsIDogb3B0aW9uLiRlbDsKICAgICAgaWYgKHRoaXMuJHJlZnMucG9wcGVyICYmIHRhcmdldCkgewogICAgICAgIGNvbnN0IG1lbnUgPSB0aGlzLiRyZWZzLnBvcHBlci4kZWwucXVlcnlTZWxlY3RvcignLmVsLXNlbGVjdC1kcm9wZG93bl9fd3JhcCcpOwogICAgICAgIHNjcm9sbEludG9WaWV3KG1lbnUsIHRhcmdldCk7CiAgICAgIH0KICAgICAgdGhpcy4kcmVmcy5zY3JvbGxiYXIgJiYgdGhpcy4kcmVmcy5zY3JvbGxiYXIuaGFuZGxlU2Nyb2xsKCk7CiAgICB9LAoKICAgIGhhbmRsZU1lbnVFbnRlcigpIHsKICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gdGhpcy5zY3JvbGxUb09wdGlvbih0aGlzLnNlbGVjdGVkKSk7CiAgICB9LAoKICAgIGVtaXRDaGFuZ2UodmFsKSB7CiAgICAgIGlmICghdmFsdWVFcXVhbHModGhpcy52YWx1ZSwgdmFsKSkgewogICAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZScsIHZhbCk7CiAgICAgIH0KICAgIH0sCgogICAgZ2V0T3B0aW9uKHZhbHVlKSB7CiAgICAgIGxldCBvcHRpb247CiAgICAgIGNvbnN0IGlzT2JqZWN0ID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKS50b0xvd2VyQ2FzZSgpID09PSAnW29iamVjdCBvYmplY3RdJzsKICAgICAgY29uc3QgaXNOdWxsID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKS50b0xvd2VyQ2FzZSgpID09PSAnW29iamVjdCBudWxsXSc7CiAgICAgIGNvbnN0IGlzVW5kZWZpbmVkID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKS50b0xvd2VyQ2FzZSgpID09PSAnW29iamVjdCB1bmRlZmluZWRdJzsKCiAgICAgIGZvciAobGV0IGkgPSB0aGlzLmNhY2hlZE9wdGlvbnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHsKICAgICAgICBjb25zdCBjYWNoZWRPcHRpb24gPSB0aGlzLmNhY2hlZE9wdGlvbnNbaV07CiAgICAgICAgY29uc3QgaXNFcXVhbCA9IGlzT2JqZWN0CiAgICAgICAgICA/IGdldFZhbHVlQnlQYXRoKGNhY2hlZE9wdGlvbi52YWx1ZSwgdGhpcy52YWx1ZUtleSkgPT09IGdldFZhbHVlQnlQYXRoKHZhbHVlLCB0aGlzLnZhbHVlS2V5KQogICAgICAgICAgOiBjYWNoZWRPcHRpb24udmFsdWUgPT09IHZhbHVlOwogICAgICAgIGlmIChpc0VxdWFsKSB7CiAgICAgICAgICBvcHRpb24gPSBjYWNoZWRPcHRpb247CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKG9wdGlvbikgcmV0dXJuIG9wdGlvbjsKICAgICAgY29uc3QgbGFiZWwgPSAoIWlzT2JqZWN0ICYmICFpc051bGwgJiYgIWlzVW5kZWZpbmVkKQogICAgICAgID8gU3RyaW5nKHZhbHVlKSA6ICcnOwogICAgICBsZXQgbmV3T3B0aW9uID0gewogICAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgICBjdXJyZW50TGFiZWw6IGxhYmVsCiAgICAgIH07CiAgICAgIGlmICh0aGlzLm11bHRpcGxlKSB7CiAgICAgICAgbmV3T3B0aW9uLmhpdFN0YXRlID0gZmFsc2U7CiAgICAgIH0KICAgICAgcmV0dXJuIG5ld09wdGlvbjsKICAgIH0sCgogICAgc2V0U2VsZWN0ZWQoKSB7CiAgICAgIGlmICghdGhpcy5tdWx0aXBsZSkgewogICAgICAgIGxldCBvcHRpb24gPSB0aGlzLmdldE9wdGlvbih0aGlzLnZhbHVlKTsKICAgICAgICBpZiAob3B0aW9uLmNyZWF0ZWQpIHsKICAgICAgICAgIHRoaXMuY3JlYXRlZExhYmVsID0gb3B0aW9uLmN1cnJlbnRMYWJlbDsKICAgICAgICAgIHRoaXMuY3JlYXRlZFNlbGVjdGVkID0gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5jcmVhdGVkU2VsZWN0ZWQgPSBmYWxzZTsKICAgICAgICB9CiAgICAgICAgdGhpcy5zZWxlY3RlZExhYmVsID0gb3B0aW9uLmN1cnJlbnRMYWJlbDsKICAgICAgICB0aGlzLnNlbGVjdGVkID0gb3B0aW9uOwogICAgICAgIGlmICh0aGlzLmZpbHRlcmFibGUpIHRoaXMucXVlcnkgPSB0aGlzLnNlbGVjdGVkTGFiZWw7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGxldCByZXN1bHQgPSBbXTsKICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy52YWx1ZSkpIHsKICAgICAgICB0aGlzLnZhbHVlLmZvckVhY2godmFsdWUgPT4gewogICAgICAgICAgcmVzdWx0LnB1c2godGhpcy5nZXRPcHRpb24odmFsdWUpKTsKICAgICAgICB9KTsKICAgICAgfQogICAgICB0aGlzLnNlbGVjdGVkID0gcmVzdWx0OwogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgdGhpcy5yZXNldElucHV0SGVpZ2h0KCk7CiAgICAgIH0pOwogICAgfSwKCiAgICBoYW5kbGVGb2N1cyhldmVudCkgewogICAgICBpZiAoIXRoaXMuc29mdEZvY3VzKSB7CiAgICAgICAgaWYgKHRoaXMuYXV0b21hdGljRHJvcGRvd24gfHwgdGhpcy5maWx0ZXJhYmxlKSB7CiAgICAgICAgICB0aGlzLnZpc2libGUgPSB0cnVlOwogICAgICAgICAgaWYgKHRoaXMuZmlsdGVyYWJsZSkgewogICAgICAgICAgICB0aGlzLm1lbnVWaXNpYmxlT25Gb2N1cyA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHRoaXMuJGVtaXQoJ2ZvY3VzJywgZXZlbnQpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc29mdEZvY3VzID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCgogICAgYmx1cigpIHsKICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2U7CiAgICAgIHRoaXMuJHJlZnMucmVmZXJlbmNlLmJsdXIoKTsKICAgIH0sCgogICAgaGFuZGxlQmx1cihldmVudCkgewogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICBpZiAodGhpcy5pc1NpbGVudEJsdXIpIHsKICAgICAgICAgIHRoaXMuaXNTaWxlbnRCbHVyID0gZmFsc2U7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJGVtaXQoJ2JsdXInLCBldmVudCk7CiAgICAgICAgfQogICAgICB9LCA1MCk7CiAgICAgIHRoaXMuc29mdEZvY3VzID0gZmFsc2U7CiAgICB9LAoKICAgIGhhbmRsZUNsZWFyQ2xpY2soZXZlbnQpIHsKICAgICAgdGhpcy5kZWxldGVTZWxlY3RlZChldmVudCk7CiAgICB9LAoKICAgIGRvRGVzdHJveSgpIHsKICAgICAgdGhpcy4kcmVmcy5wb3BwZXIgJiYgdGhpcy4kcmVmcy5wb3BwZXIuZG9EZXN0cm95KCk7CiAgICB9LAoKICAgIGhhbmRsZUNsb3NlKCkgewogICAgICB0aGlzLnZpc2libGUgPSBmYWxzZTsKICAgIH0sCgogICAgdG9nZ2xlTGFzdE9wdGlvbkhpdFN0YXRlKGhpdCkgewogICAgICBpZiAoIUFycmF5LmlzQXJyYXkodGhpcy5zZWxlY3RlZCkpIHJldHVybjsKICAgICAgY29uc3Qgb3B0aW9uID0gdGhpcy5zZWxlY3RlZFt0aGlzLnNlbGVjdGVkLmxlbmd0aCAtIDFdOwogICAgICBpZiAoIW9wdGlvbikgcmV0dXJuOwoKICAgICAgaWYgKGhpdCA9PT0gdHJ1ZSB8fCBoaXQgPT09IGZhbHNlKSB7CiAgICAgICAgb3B0aW9uLmhpdFN0YXRlID0gaGl0OwogICAgICAgIHJldHVybiBoaXQ7CiAgICAgIH0KCiAgICAgIG9wdGlvbi5oaXRTdGF0ZSA9ICFvcHRpb24uaGl0U3RhdGU7CiAgICAgIHJldHVybiBvcHRpb24uaGl0U3RhdGU7CiAgICB9LAoKICAgIGRlbGV0ZVByZXZUYWcoZSkgewogICAgICBpZiAoZS50YXJnZXQudmFsdWUubGVuZ3RoIDw9IDAgJiYgIXRoaXMudG9nZ2xlTGFzdE9wdGlvbkhpdFN0YXRlKCkpIHsKICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMudmFsdWUuc2xpY2UoKTsKICAgICAgICB2YWx1ZS5wb3AoKTsKICAgICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsIHZhbHVlKTsKICAgICAgICB0aGlzLmVtaXRDaGFuZ2UodmFsdWUpOwogICAgICB9CiAgICB9LAoKICAgIG1hbmFnZVBsYWNlaG9sZGVyKCkgewogICAgICBpZiAodGhpcy5jdXJyZW50UGxhY2Vob2xkZXIgIT09ICcnKSB7CiAgICAgICAgdGhpcy5jdXJyZW50UGxhY2Vob2xkZXIgPSB0aGlzLiRyZWZzLmlucHV0LnZhbHVlID8gJycgOiB0aGlzLmNhY2hlZFBsYWNlSG9sZGVyOwogICAgICB9CiAgICB9LAoKICAgIHJlc2V0SW5wdXRTdGF0ZShlKSB7CiAgICAgIGlmIChlLmtleUNvZGUgIT09IDgpIHRoaXMudG9nZ2xlTGFzdE9wdGlvbkhpdFN0YXRlKGZhbHNlKTsKICAgICAgdGhpcy5pbnB1dExlbmd0aCA9IHRoaXMuJHJlZnMuaW5wdXQudmFsdWUubGVuZ3RoICogMTUgKyAyMDsKICAgICAgdGhpcy5yZXNldElucHV0SGVpZ2h0KCk7CiAgICB9LAoKICAgIHJlc2V0SW5wdXRIZWlnaHQoKSB7CiAgICAgIGlmICh0aGlzLmNvbGxhcHNlVGFncyAmJiAhdGhpcy5maWx0ZXJhYmxlKSByZXR1cm47CiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICBpZiAoIXRoaXMuJHJlZnMucmVmZXJlbmNlKSByZXR1cm47CiAgICAgICAgbGV0IGlucHV0Q2hpbGROb2RlcyA9IHRoaXMuJHJlZnMucmVmZXJlbmNlLiRlbC5jaGlsZE5vZGVzOwogICAgICAgIGxldCBpbnB1dCA9IFtdLmZpbHRlci5jYWxsKGlucHV0Q2hpbGROb2RlcywgaXRlbSA9PiBpdGVtLnRhZ05hbWUgPT09ICdJTlBVVCcpWzBdOwogICAgICAgIGNvbnN0IHRhZ3MgPSB0aGlzLiRyZWZzLnRhZ3M7CiAgICAgICAgY29uc3QgdGFnc0hlaWdodCA9IHRhZ3MgPyBNYXRoLnJvdW5kKHRhZ3MuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0KSA6IDA7CiAgICAgICAgY29uc3Qgc2l6ZUluTWFwID0gdGhpcy5pbml0aWFsSW5wdXRIZWlnaHQgfHwgNDA7CiAgICAgICAgaW5wdXQuc3R5bGUuaGVpZ2h0ID0gdGhpcy5zZWxlY3RlZC5sZW5ndGggPT09IDAKICAgICAgICAgID8gc2l6ZUluTWFwICsgJ3B4JwogICAgICAgICAgOiBNYXRoLm1heCgKICAgICAgICAgICAgdGFncyA/ICh0YWdzSGVpZ2h0ICsgKHRhZ3NIZWlnaHQgPiBzaXplSW5NYXAgPyA2IDogMCkpIDogMCwKICAgICAgICAgICAgc2l6ZUluTWFwCiAgICAgICAgICApICsgJ3B4JzsKICAgICAgICBpZiAodGhpcy52aXNpYmxlICYmIHRoaXMuZW1wdHlUZXh0ICE9PSBmYWxzZSkgewogICAgICAgICAgdGhpcy5icm9hZGNhc3QoJ0VsU2VsZWN0RHJvcGRvd24nLCAndXBkYXRlUG9wcGVyJyk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCgogICAgcmVzZXRIb3ZlckluZGV4KCkgewogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICBpZiAoIXRoaXMubXVsdGlwbGUpIHsKICAgICAgICAgIHRoaXMuaG92ZXJJbmRleCA9IHRoaXMub3B0aW9ucy5pbmRleE9mKHRoaXMuc2VsZWN0ZWQpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIHRoaXMuaG92ZXJJbmRleCA9IE1hdGgubWluLmFwcGx5KG51bGwsIHRoaXMuc2VsZWN0ZWQubWFwKGl0ZW0gPT4gdGhpcy5vcHRpb25zLmluZGV4T2YoaXRlbSkpKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuaG92ZXJJbmRleCA9IC0xOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgMzAwKTsKICAgIH0sCgogICAgaGFuZGxlT3B0aW9uU2VsZWN0KG9wdGlvbiwgYnlDbGljaykgewogICAgICBpZiAodGhpcy5tdWx0aXBsZSkgewogICAgICAgIGNvbnN0IHZhbHVlID0gKHRoaXMudmFsdWUgfHwgW10pLnNsaWNlKCk7CiAgICAgICAgY29uc3Qgb3B0aW9uSW5kZXggPSB0aGlzLmdldFZhbHVlSW5kZXgodmFsdWUsIG9wdGlvbi52YWx1ZSk7CiAgICAgICAgaWYgKG9wdGlvbkluZGV4ID4gLTEpIHsKICAgICAgICAgIHZhbHVlLnNwbGljZShvcHRpb25JbmRleCwgMSk7CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLm11bHRpcGxlTGltaXQgPD0gMCB8fCB2YWx1ZS5sZW5ndGggPCB0aGlzLm11bHRpcGxlTGltaXQpIHsKICAgICAgICAgIHZhbHVlLnB1c2gob3B0aW9uLnZhbHVlKTsKICAgICAgICB9CiAgICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCB2YWx1ZSk7CiAgICAgICAgdGhpcy5lbWl0Q2hhbmdlKHZhbHVlKTsKICAgICAgICBpZiAob3B0aW9uLmNyZWF0ZWQpIHsKICAgICAgICAgIHRoaXMucXVlcnkgPSAnJzsKICAgICAgICAgIHRoaXMuaGFuZGxlUXVlcnlDaGFuZ2UoJycpOwogICAgICAgICAgdGhpcy5pbnB1dExlbmd0aCA9IDIwOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5maWx0ZXJhYmxlKSB0aGlzLiRyZWZzLmlucHV0LmZvY3VzKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCBvcHRpb24udmFsdWUpOwogICAgICAgIHRoaXMuZW1pdENoYW5nZShvcHRpb24udmFsdWUpOwogICAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlOwogICAgICB9CiAgICAgIHRoaXMuaXNTaWxlbnRCbHVyID0gYnlDbGljazsKICAgICAgdGhpcy5zZXRTb2Z0Rm9jdXMoKTsKICAgICAgaWYgKHRoaXMudmlzaWJsZSkgcmV0dXJuOwogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgdGhpcy5zY3JvbGxUb09wdGlvbihvcHRpb24pOwogICAgICB9KTsKICAgIH0sCgogICAgc2V0U29mdEZvY3VzKCkgewogICAgICB0aGlzLnNvZnRGb2N1cyA9IHRydWU7CiAgICAgIGNvbnN0IGlucHV0ID0gdGhpcy4kcmVmcy5pbnB1dCB8fCB0aGlzLiRyZWZzLnJlZmVyZW5jZTsKICAgICAgaWYgKGlucHV0KSB7CiAgICAgICAgaW5wdXQuZm9jdXMoKTsKICAgICAgfQogICAgfSwKCiAgICBnZXRWYWx1ZUluZGV4KGFyciA9IFtdLCB2YWx1ZSkgewogICAgICBjb25zdCBpc09iamVjdCA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkudG9Mb3dlckNhc2UoKSA9PT0gJ1tvYmplY3Qgb2JqZWN0XSc7CiAgICAgIGlmICghaXNPYmplY3QpIHsKICAgICAgICByZXR1cm4gYXJyLmluZGV4T2YodmFsdWUpOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnN0IHZhbHVlS2V5ID0gdGhpcy52YWx1ZUtleTsKICAgICAgICBsZXQgaW5kZXggPSAtMTsKICAgICAgICBhcnIuc29tZSgoaXRlbSwgaSkgPT4gewogICAgICAgICAgaWYgKGdldFZhbHVlQnlQYXRoKGl0ZW0sIHZhbHVlS2V5KSA9PT0gZ2V0VmFsdWVCeVBhdGgodmFsdWUsIHZhbHVlS2V5KSkgewogICAgICAgICAgICBpbmRleCA9IGk7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0pOwogICAgICAgIHJldHVybiBpbmRleDsKICAgICAgfQogICAgfSwKCiAgICB0b2dnbGVNZW51KCkgewogICAgICBpZiAoIXRoaXMuc2VsZWN0RGlzYWJsZWQpIHsKICAgICAgICBpZiAodGhpcy5tZW51VmlzaWJsZU9uRm9jdXMpIHsKICAgICAgICAgIHRoaXMubWVudVZpc2libGVPbkZvY3VzID0gZmFsc2U7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMudmlzaWJsZSA9ICF0aGlzLnZpc2libGU7CiAgICAgICAgfQogICAgICAgIGlmICh0aGlzLnZpc2libGUpIHsKICAgICAgICAgICh0aGlzLiRyZWZzLmlucHV0IHx8IHRoaXMuJHJlZnMucmVmZXJlbmNlKS5mb2N1cygpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKCiAgICBzZWxlY3RPcHRpb24oKSB7CiAgICAgIGlmICghdGhpcy52aXNpYmxlKSB7CiAgICAgICAgdGhpcy50b2dnbGVNZW51KCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKHRoaXMub3B0aW9uc1t0aGlzLmhvdmVySW5kZXhdKSB7CiAgICAgICAgICB0aGlzLmhhbmRsZU9wdGlvblNlbGVjdCh0aGlzLm9wdGlvbnNbdGhpcy5ob3ZlckluZGV4XSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAoKICAgIGRlbGV0ZVNlbGVjdGVkKGV2ZW50KSB7CiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOwogICAgICBjb25zdCB2YWx1ZSA9IHRoaXMubXVsdGlwbGUgPyBbXSA6ICcnOwogICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsIHZhbHVlKTsKICAgICAgdGhpcy5lbWl0Q2hhbmdlKHZhbHVlKTsKICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2U7CiAgICAgIHRoaXMuJGVtaXQoJ2NsZWFyJyk7CiAgICB9LAoKICAgIGRlbGV0ZVRhZyhldmVudCwgdGFnKSB7CiAgICAgIGxldCBpbmRleCA9IHRoaXMuc2VsZWN0ZWQuaW5kZXhPZih0YWcpOwogICAgICBpZiAoaW5kZXggPiAtMSAmJiAhdGhpcy5zZWxlY3REaXNhYmxlZCkgewogICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy52YWx1ZS5zbGljZSgpOwogICAgICAgIHZhbHVlLnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCB2YWx1ZSk7CiAgICAgICAgdGhpcy5lbWl0Q2hhbmdlKHZhbHVlKTsKICAgICAgICB0aGlzLiRlbWl0KCdyZW1vdmUtdGFnJywgdGFnLnZhbHVlKTsKICAgICAgfQogICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsKICAgIH0sCgogICAgb25JbnB1dENoYW5nZSgpIHsKICAgICAgaWYgKHRoaXMuZmlsdGVyYWJsZSAmJiB0aGlzLnF1ZXJ5ICE9PSB0aGlzLnNlbGVjdGVkTGFiZWwpIHsKICAgICAgICB0aGlzLnF1ZXJ5ID0gdGhpcy5zZWxlY3RlZExhYmVsOwogICAgICAgIHRoaXMuaGFuZGxlUXVlcnlDaGFuZ2UodGhpcy5xdWVyeSk7CiAgICAgIH0KICAgIH0sCgogICAgb25PcHRpb25EZXN0cm95KGluZGV4KSB7CiAgICAgIGlmIChpbmRleCA+IC0xKSB7CiAgICAgICAgdGhpcy5vcHRpb25zQ291bnQtLTsKICAgICAgICB0aGlzLmZpbHRlcmVkT3B0aW9uc0NvdW50LS07CiAgICAgICAgdGhpcy5vcHRpb25zLnNwbGljZShpbmRleCwgMSk7CiAgICAgIH0KICAgIH0sCgogICAgcmVzZXRJbnB1dFdpZHRoKCkgewogICAgICB0aGlzLmlucHV0V2lkdGggPSB0aGlzLiRyZWZzLnJlZmVyZW5jZS4kZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7CiAgICB9LAoKICAgIGhhbmRsZVJlc2l6ZSgpIHsKICAgICAgdGhpcy5yZXNldElucHV0V2lkdGgoKTsKICAgICAgaWYgKHRoaXMubXVsdGlwbGUpIHRoaXMucmVzZXRJbnB1dEhlaWdodCgpOwogICAgfSwKCiAgICBjaGVja0RlZmF1bHRGaXJzdE9wdGlvbigpIHsKICAgICAgdGhpcy5ob3ZlckluZGV4ID0gLTE7CiAgICAgIC8vIGhpZ2hsaWdodCB0aGUgY3JlYXRlZCBvcHRpb24KICAgICAgbGV0IGhhc0NyZWF0ZWQgPSBmYWxzZTsKICAgICAgZm9yIChsZXQgaSA9IHRoaXMub3B0aW9ucy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgewogICAgICAgIGlmICh0aGlzLm9wdGlvbnNbaV0uY3JlYXRlZCkgewogICAgICAgICAgaGFzQ3JlYXRlZCA9IHRydWU7CiAgICAgICAgICB0aGlzLmhvdmVySW5kZXggPSBpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmIChoYXNDcmVhdGVkKSByZXR1cm47CiAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSB0aGlzLm9wdGlvbnMubGVuZ3RoOyArK2kpIHsKICAgICAgICBjb25zdCBvcHRpb24gPSB0aGlzLm9wdGlvbnNbaV07CiAgICAgICAgaWYgKHRoaXMucXVlcnkpIHsKICAgICAgICAgIC8vIGhpZ2hsaWdodCBmaXJzdCBvcHRpb25zIHRoYXQgcGFzc2VzIHRoZSBmaWx0ZXIKICAgICAgICAgIGlmICghb3B0aW9uLmRpc2FibGVkICYmICFvcHRpb24uZ3JvdXBEaXNhYmxlZCAmJiBvcHRpb24udmlzaWJsZSkgewogICAgICAgICAgICB0aGlzLmhvdmVySW5kZXggPSBpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gaGlnaGxpZ2h0IGN1cnJlbnRseSBzZWxlY3RlZCBvcHRpb24KICAgICAgICAgIGlmIChvcHRpb24uaXRlbVNlbGVjdGVkKSB7CiAgICAgICAgICAgIHRoaXMuaG92ZXJJbmRleCA9IGk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwKCiAgICBnZXRWYWx1ZUtleShpdGVtKSB7CiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaXRlbS52YWx1ZSkudG9Mb3dlckNhc2UoKSAhPT0gJ1tvYmplY3Qgb2JqZWN0XScpIHsKICAgICAgICByZXR1cm4gaXRlbS52YWx1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gZ2V0VmFsdWVCeVBhdGgoaXRlbS52YWx1ZSwgdGhpcy52YWx1ZUtleSk7CiAgICAgIH0KICAgIH0KICB9LAoKICBjcmVhdGVkKCkgewogICAgdGhpcy5jYWNoZWRQbGFjZUhvbGRlciA9IHRoaXMuY3VycmVudFBsYWNlaG9sZGVyID0gdGhpcy5wcm9wUGxhY2Vob2xkZXI7CiAgICBpZiAodGhpcy5tdWx0aXBsZSAmJiAhQXJyYXkuaXNBcnJheSh0aGlzLnZhbHVlKSkgewogICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsIFtdKTsKICAgIH0KICAgIGlmICghdGhpcy5tdWx0aXBsZSAmJiBBcnJheS5pc0FycmF5KHRoaXMudmFsdWUpKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgJycpOwogICAgfQoKICAgIHRoaXMuZGVib3VuY2VkT25JbnB1dENoYW5nZSA9IGRlYm91bmNlKHRoaXMuZGVib3VuY2UsICgpID0+IHsKICAgICAgdGhpcy5vbklucHV0Q2hhbmdlKCk7CiAgICB9KTsKCiAgICB0aGlzLmRlYm91bmNlZFF1ZXJ5Q2hhbmdlID0gZGVib3VuY2UodGhpcy5kZWJvdW5jZSwgKGUpID0+IHsKICAgICAgdGhpcy5oYW5kbGVRdWVyeUNoYW5nZShlLnRhcmdldC52YWx1ZSk7CiAgICB9KTsKCiAgICB0aGlzLiRvbignaGFuZGxlT3B0aW9uQ2xpY2snLCB0aGlzLmhhbmRsZU9wdGlvblNlbGVjdCk7CiAgICB0aGlzLiRvbignc2V0U2VsZWN0ZWQnLCB0aGlzLnNldFNlbGVjdGVkKTsKICB9LAoKICBtb3VudGVkKCkgewogICAgaWYgKHRoaXMubXVsdGlwbGUgJiYgQXJyYXkuaXNBcnJheSh0aGlzLnZhbHVlKSAmJiB0aGlzLnZhbHVlLmxlbmd0aCA+IDApIHsKICAgICAgdGhpcy5jdXJyZW50UGxhY2Vob2xkZXIgPSAnJzsKICAgIH0KICAgIGFkZFJlc2l6ZUxpc3RlbmVyKHRoaXMuJGVsLCB0aGlzLmhhbmRsZVJlc2l6ZSk7CgogICAgY29uc3QgcmVmZXJlbmNlID0gdGhpcy4kcmVmcy5yZWZlcmVuY2U7CiAgICBpZiAocmVmZXJlbmNlICYmIHJlZmVyZW5jZS4kZWwpIHsKICAgICAgY29uc3Qgc2l6ZU1hcCA9IHsKICAgICAgICBtZWRpdW06IDM2LAogICAgICAgIHNtYWxsOiAzMiwKICAgICAgICBtaW5pOiAyOAogICAgICB9OwogICAgICBjb25zdCBpbnB1dCA9IHJlZmVyZW5jZS4kZWwucXVlcnlTZWxlY3RvcignaW5wdXQnKTsKICAgICAgdGhpcy5pbml0aWFsSW5wdXRIZWlnaHQgPSBpbnB1dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQgfHwgc2l6ZU1hcFt0aGlzLnNlbGVjdFNpemVdOwogICAgfQogICAgaWYgKHRoaXMucmVtb3RlICYmIHRoaXMubXVsdGlwbGUpIHsKICAgICAgdGhpcy5yZXNldElucHV0SGVpZ2h0KCk7CiAgICB9CiAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgIGlmIChyZWZlcmVuY2UgJiYgcmVmZXJlbmNlLiRlbCkgewogICAgICAgIHRoaXMuaW5wdXRXaWR0aCA9IHJlZmVyZW5jZS4kZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7CiAgICAgIH0KICAgIH0pOwogICAgdGhpcy5zZXRTZWxlY3RlZCgpOwogIH0sCgogIGJlZm9yZURlc3Ryb3koKSB7CiAgICBpZiAodGhpcy4kZWwgJiYgdGhpcy5oYW5kbGVSZXNpemUpIHJlbW92ZVJlc2l6ZUxpc3RlbmVyKHRoaXMuJGVsLCB0aGlzLmhhbmRsZVJlc2l6ZSk7CiAgfQp9Owo="},{"version":3,"sources":["select.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"select.vue","sourceRoot":"node_modules/element-ui/packages/select/src","sourcesContent":["<template>\n  <div\n    class=\"el-select\"\n    :class=\"[selectSize ? 'el-select--' + selectSize : '']\"\n    @click.stop=\"toggleMenu\"\n    v-clickoutside=\"handleClose\">\n    <div\n      class=\"el-select__tags\"\n      v-if=\"multiple\"\n      ref=\"tags\"\n      :style=\"{ 'max-width': inputWidth - 32 + 'px', width: '100%' }\">\n      <span v-if=\"collapseTags && selected.length\">\n        <el-tag\n          :closable=\"!selectDisabled\"\n          :size=\"collapseTagSize\"\n          :hit=\"selected[0].hitState\"\n          type=\"info\"\n          @close=\"deleteTag($event, selected[0])\"\n          disable-transitions>\n          <span class=\"el-select__tags-text\">{{ selected[0].currentLabel }}</span>\n        </el-tag>\n        <el-tag\n          v-if=\"selected.length > 1\"\n          :closable=\"false\"\n          :size=\"collapseTagSize\"\n          type=\"info\"\n          disable-transitions>\n          <span class=\"el-select__tags-text\">+ {{ selected.length - 1 }}</span>\n        </el-tag>\n      </span>\n      <transition-group @after-leave=\"resetInputHeight\" v-if=\"!collapseTags\">\n        <el-tag\n          v-for=\"item in selected\"\n          :key=\"getValueKey(item)\"\n          :closable=\"!selectDisabled\"\n          :size=\"collapseTagSize\"\n          :hit=\"item.hitState\"\n          type=\"info\"\n          @close=\"deleteTag($event, item)\"\n          disable-transitions>\n          <span class=\"el-select__tags-text\">{{ item.currentLabel }}</span>\n        </el-tag>\n      </transition-group>\n\n      <input\n        type=\"text\"\n        class=\"el-select__input\"\n        :class=\"[selectSize ? `is-${ selectSize }` : '']\"\n        :disabled=\"selectDisabled\"\n        :autocomplete=\"autoComplete || autocomplete\"\n        @focus=\"handleFocus\"\n        @blur=\"softFocus = false\"\n        @keyup=\"managePlaceholder\"\n        @keydown=\"resetInputState\"\n        @keydown.down.prevent=\"navigateOptions('next')\"\n        @keydown.up.prevent=\"navigateOptions('prev')\"\n        @keydown.enter.prevent=\"selectOption\"\n        @keydown.esc.stop.prevent=\"visible = false\"\n        @keydown.delete=\"deletePrevTag\"\n        @keydown.tab=\"visible = false\"\n        @compositionstart=\"handleComposition\"\n        @compositionupdate=\"handleComposition\"\n        @compositionend=\"handleComposition\"\n        v-model=\"query\"\n        @input=\"debouncedQueryChange\"\n        v-if=\"filterable\"\n        :style=\"{ 'flex-grow': '1', width: inputLength / (inputWidth - 32) + '%', 'max-width': inputWidth - 42 + 'px' }\"\n        ref=\"input\">\n    </div>\n    <el-input\n      ref=\"reference\"\n      v-model=\"selectedLabel\"\n      type=\"text\"\n      :placeholder=\"currentPlaceholder\"\n      :name=\"name\"\n      :id=\"id\"\n      :autocomplete=\"autoComplete || autocomplete\"\n      :size=\"selectSize\"\n      :disabled=\"selectDisabled\"\n      :readonly=\"readonly\"\n      :validate-event=\"false\"\n      :class=\"{ 'is-focus': visible }\"\n      :tabindex=\"(multiple && filterable) ? '-1' : null\"\n      @focus=\"handleFocus\"\n      @blur=\"handleBlur\"\n      @input=\"debouncedOnInputChange\"\n      @keydown.native.down.stop.prevent=\"navigateOptions('next')\"\n      @keydown.native.up.stop.prevent=\"navigateOptions('prev')\"\n      @keydown.native.enter.prevent=\"selectOption\"\n      @keydown.native.esc.stop.prevent=\"visible = false\"\n      @keydown.native.tab=\"visible = false\"\n      @mouseenter.native=\"inputHovering = true\"\n      @mouseleave.native=\"inputHovering = false\">\n      <template slot=\"prefix\" v-if=\"$slots.prefix\">\n        <slot name=\"prefix\"></slot>\n      </template>\n      <template slot=\"suffix\">\n        <i v-show=\"!showClose\" :class=\"['el-select__caret', 'el-input__icon', 'el-icon-' + iconClass]\"></i>\n        <i v-if=\"showClose\" class=\"el-select__caret el-input__icon el-icon-circle-close\" @click=\"handleClearClick\"></i>\n      </template>\n    </el-input>\n    <transition\n      name=\"el-zoom-in-top\"\n      @before-enter=\"handleMenuEnter\"\n      @after-leave=\"doDestroy\">\n      <el-select-menu\n        ref=\"popper\"\n        :append-to-body=\"popperAppendToBody\"\n        v-show=\"visible && emptyText !== false\">\n        <el-scrollbar\n          tag=\"ul\"\n          wrap-class=\"el-select-dropdown__wrap\"\n          view-class=\"el-select-dropdown__list\"\n          ref=\"scrollbar\"\n          :class=\"{ 'is-empty': !allowCreate && query && filteredOptionsCount === 0 }\"\n          v-show=\"options.length > 0 && !loading\">\n          <el-option\n            :value=\"query\"\n            created\n            v-if=\"showNewOption\">\n          </el-option>\n          <slot></slot>\n        </el-scrollbar>\n        <template v-if=\"emptyText && (!allowCreate || loading || (allowCreate && options.length === 0 ))\">\n          <slot name=\"empty\" v-if=\"$slots.empty\"></slot>\n          <p class=\"el-select-dropdown__empty\" v-else>\n            {{ emptyText }}\n          </p>\n        </template>\n      </el-select-menu>\n    </transition>\n  </div>\n</template>\n\n<script type=\"text/babel\">\n  import Emitter from 'element-ui/src/mixins/emitter';\n  import Focus from 'element-ui/src/mixins/focus';\n  import Locale from 'element-ui/src/mixins/locale';\n  import ElInput from 'element-ui/packages/input';\n  import ElSelectMenu from './select-dropdown.vue';\n  import ElOption from './option.vue';\n  import ElTag from 'element-ui/packages/tag';\n  import ElScrollbar from 'element-ui/packages/scrollbar';\n  import debounce from 'throttle-debounce/debounce';\n  import Clickoutside from 'element-ui/src/utils/clickoutside';\n  import { addResizeListener, removeResizeListener } from 'element-ui/src/utils/resize-event';\n  import scrollIntoView from 'element-ui/src/utils/scroll-into-view';\n  import { getValueByPath, valueEquals, isIE, isEdge } from 'element-ui/src/utils/util';\n  import NavigationMixin from './navigation-mixin';\n  import { isKorean } from 'element-ui/src/utils/shared';\n\n  export default {\n    mixins: [Emitter, Locale, Focus('reference'), NavigationMixin],\n\n    name: 'ElSelect',\n\n    componentName: 'ElSelect',\n\n    inject: {\n      elForm: {\n        default: ''\n      },\n\n      elFormItem: {\n        default: ''\n      }\n    },\n\n    provide() {\n      return {\n        'select': this\n      };\n    },\n\n    computed: {\n      _elFormItemSize() {\n        return (this.elFormItem || {}).elFormItemSize;\n      },\n\n      readonly() {\n        return !this.filterable || this.multiple || (!isIE() && !isEdge() && !this.visible);\n      },\n\n      showClose() {\n        let hasValue = this.multiple\n          ? Array.isArray(this.value) && this.value.length > 0\n          : this.value !== undefined && this.value !== null && this.value !== '';\n        let criteria = this.clearable &&\n          !this.selectDisabled &&\n          this.inputHovering &&\n          hasValue;\n        return criteria;\n      },\n\n      iconClass() {\n        return this.remote && this.filterable ? '' : (this.visible ? 'arrow-up is-reverse' : 'arrow-up');\n      },\n\n      debounce() {\n        return this.remote ? 300 : 0;\n      },\n\n      emptyText() {\n        if (this.loading) {\n          return this.loadingText || this.t('el.select.loading');\n        } else {\n          if (this.remote && this.query === '' && this.options.length === 0) return false;\n          if (this.filterable && this.query && this.options.length > 0 && this.filteredOptionsCount === 0) {\n            return this.noMatchText || this.t('el.select.noMatch');\n          }\n          if (this.options.length === 0) {\n            return this.noDataText || this.t('el.select.noData');\n          }\n        }\n        return null;\n      },\n\n      showNewOption() {\n        let hasExistingOption = this.options.filter(option => !option.created)\n          .some(option => option.currentLabel === this.query);\n        return this.filterable && this.allowCreate && this.query !== '' && !hasExistingOption;\n      },\n\n      selectSize() {\n        return this.size || this._elFormItemSize || (this.$ELEMENT || {}).size;\n      },\n\n      selectDisabled() {\n        return this.disabled || (this.elForm || {}).disabled;\n      },\n\n      collapseTagSize() {\n        return ['small', 'mini'].indexOf(this.selectSize) > -1\n          ? 'mini'\n          : 'small';\n      },\n      propPlaceholder() {\n        return typeof this.placeholder !== 'undefined' ? this.placeholder : this.t('el.select.placeholder');\n      }\n    },\n\n    components: {\n      ElInput,\n      ElSelectMenu,\n      ElOption,\n      ElTag,\n      ElScrollbar\n    },\n\n    directives: { Clickoutside },\n\n    props: {\n      name: String,\n      id: String,\n      value: {\n        required: true\n      },\n      autocomplete: {\n        type: String,\n        default: 'off'\n      },\n      /** @Deprecated in next major version */\n      autoComplete: {\n        type: String,\n        validator(val) {\n          process.env.NODE_ENV !== 'production' &&\n            console.warn('[Element Warn][Select]\\'auto-complete\\' property will be deprecated in next major version. please use \\'autocomplete\\' instead.');\n          return true;\n        }\n      },\n      automaticDropdown: Boolean,\n      size: String,\n      disabled: Boolean,\n      clearable: Boolean,\n      filterable: Boolean,\n      allowCreate: Boolean,\n      loading: Boolean,\n      popperClass: String,\n      remote: Boolean,\n      loadingText: String,\n      noMatchText: String,\n      noDataText: String,\n      remoteMethod: Function,\n      filterMethod: Function,\n      multiple: Boolean,\n      multipleLimit: {\n        type: Number,\n        default: 0\n      },\n      placeholder: {\n        type: String,\n        required: false\n      },\n      defaultFirstOption: Boolean,\n      reserveKeyword: Boolean,\n      valueKey: {\n        type: String,\n        default: 'value'\n      },\n      collapseTags: Boolean,\n      popperAppendToBody: {\n        type: Boolean,\n        default: true\n      }\n    },\n\n    data() {\n      return {\n        options: [],\n        cachedOptions: [],\n        createdLabel: null,\n        createdSelected: false,\n        selected: this.multiple ? [] : {},\n        inputLength: 20,\n        inputWidth: 0,\n        initialInputHeight: 0,\n        cachedPlaceHolder: '',\n        optionsCount: 0,\n        filteredOptionsCount: 0,\n        visible: false,\n        softFocus: false,\n        selectedLabel: '',\n        hoverIndex: -1,\n        query: '',\n        previousQuery: null,\n        inputHovering: false,\n        currentPlaceholder: '',\n        menuVisibleOnFocus: false,\n        isOnComposition: false,\n        isSilentBlur: false\n      };\n    },\n\n    watch: {\n      selectDisabled() {\n        this.$nextTick(() => {\n          this.resetInputHeight();\n        });\n      },\n\n      propPlaceholder(val) {\n        this.cachedPlaceHolder = this.currentPlaceholder = val;\n      },\n\n      value(val, oldVal) {\n        if (this.multiple) {\n          this.resetInputHeight();\n          if ((val && val.length > 0) || (this.$refs.input && this.query !== '')) {\n            this.currentPlaceholder = '';\n          } else {\n            this.currentPlaceholder = this.cachedPlaceHolder;\n          }\n          if (this.filterable && !this.reserveKeyword) {\n            this.query = '';\n            this.handleQueryChange(this.query);\n          }\n        }\n        this.setSelected();\n        if (this.filterable && !this.multiple) {\n          this.inputLength = 20;\n        }\n        if (!valueEquals(val, oldVal)) {\n          this.dispatch('ElFormItem', 'el.form.change', val);\n        }\n      },\n\n      visible(val) {\n        if (!val) {\n          this.broadcast('ElSelectDropdown', 'destroyPopper');\n          if (this.$refs.input) {\n            this.$refs.input.blur();\n          }\n          this.query = '';\n          this.previousQuery = null;\n          this.selectedLabel = '';\n          this.inputLength = 20;\n          this.menuVisibleOnFocus = false;\n          this.resetHoverIndex();\n          this.$nextTick(() => {\n            if (this.$refs.input &&\n              this.$refs.input.value === '' &&\n              this.selected.length === 0) {\n              this.currentPlaceholder = this.cachedPlaceHolder;\n            }\n          });\n          if (!this.multiple) {\n            if (this.selected) {\n              if (this.filterable && this.allowCreate &&\n                this.createdSelected && this.createdLabel) {\n                this.selectedLabel = this.createdLabel;\n              } else {\n                this.selectedLabel = this.selected.currentLabel;\n              }\n              if (this.filterable) this.query = this.selectedLabel;\n            }\n\n            if (this.filterable) {\n              this.currentPlaceholder = this.cachedPlaceHolder;\n            }\n          }\n        } else {\n          this.broadcast('ElSelectDropdown', 'updatePopper');\n          if (this.filterable) {\n            this.query = this.remote ? '' : this.selectedLabel;\n            this.handleQueryChange(this.query);\n            if (this.multiple) {\n              this.$refs.input.focus();\n            } else {\n              if (!this.remote) {\n                this.broadcast('ElOption', 'queryChange', '');\n                this.broadcast('ElOptionGroup', 'queryChange');\n              }\n\n              if (this.selectedLabel) {\n                this.currentPlaceholder = this.selectedLabel;\n                this.selectedLabel = '';\n              }\n            }\n          }\n        }\n        this.$emit('visible-change', val);\n      },\n\n      options() {\n        if (this.$isServer) return;\n        this.$nextTick(() => {\n          this.broadcast('ElSelectDropdown', 'updatePopper');\n        });\n        if (this.multiple) {\n          this.resetInputHeight();\n        }\n        let inputs = this.$el.querySelectorAll('input');\n        if ([].indexOf.call(inputs, document.activeElement) === -1) {\n          this.setSelected();\n        }\n        if (this.defaultFirstOption && (this.filterable || this.remote) && this.filteredOptionsCount) {\n          this.checkDefaultFirstOption();\n        }\n      }\n    },\n\n    methods: {\n      handleComposition(event) {\n        const text = event.target.value;\n        if (event.type === 'compositionend') {\n          this.isOnComposition = false;\n          this.$nextTick(_ => this.handleQueryChange(text));\n        } else {\n          const lastCharacter = text[text.length - 1] || '';\n          this.isOnComposition = !isKorean(lastCharacter);\n        }\n      },\n      handleQueryChange(val) {\n        if (this.previousQuery === val || this.isOnComposition) return;\n        if (\n          this.previousQuery === null &&\n          (typeof this.filterMethod === 'function' || typeof this.remoteMethod === 'function')\n        ) {\n          this.previousQuery = val;\n          return;\n        }\n        this.previousQuery = val;\n        this.$nextTick(() => {\n          if (this.visible) this.broadcast('ElSelectDropdown', 'updatePopper');\n        });\n        this.hoverIndex = -1;\n        if (this.multiple && this.filterable) {\n          this.$nextTick(() => {\n            const length = this.$refs.input.value.length * 15 + 20;\n            this.inputLength = this.collapseTags ? Math.min(50, length) : length;\n            this.managePlaceholder();\n            this.resetInputHeight();\n          });\n        }\n        if (this.remote && typeof this.remoteMethod === 'function') {\n          this.hoverIndex = -1;\n          this.remoteMethod(val);\n        } else if (typeof this.filterMethod === 'function') {\n          this.filterMethod(val);\n          this.broadcast('ElOptionGroup', 'queryChange');\n        } else {\n          this.filteredOptionsCount = this.optionsCount;\n          this.broadcast('ElOption', 'queryChange', val);\n          this.broadcast('ElOptionGroup', 'queryChange');\n        }\n        if (this.defaultFirstOption && (this.filterable || this.remote) && this.filteredOptionsCount) {\n          this.checkDefaultFirstOption();\n        }\n      },\n\n      scrollToOption(option) {\n        const target = Array.isArray(option) && option[0] ? option[0].$el : option.$el;\n        if (this.$refs.popper && target) {\n          const menu = this.$refs.popper.$el.querySelector('.el-select-dropdown__wrap');\n          scrollIntoView(menu, target);\n        }\n        this.$refs.scrollbar && this.$refs.scrollbar.handleScroll();\n      },\n\n      handleMenuEnter() {\n        this.$nextTick(() => this.scrollToOption(this.selected));\n      },\n\n      emitChange(val) {\n        if (!valueEquals(this.value, val)) {\n          this.$emit('change', val);\n        }\n      },\n\n      getOption(value) {\n        let option;\n        const isObject = Object.prototype.toString.call(value).toLowerCase() === '[object object]';\n        const isNull = Object.prototype.toString.call(value).toLowerCase() === '[object null]';\n        const isUndefined = Object.prototype.toString.call(value).toLowerCase() === '[object undefined]';\n\n        for (let i = this.cachedOptions.length - 1; i >= 0; i--) {\n          const cachedOption = this.cachedOptions[i];\n          const isEqual = isObject\n            ? getValueByPath(cachedOption.value, this.valueKey) === getValueByPath(value, this.valueKey)\n            : cachedOption.value === value;\n          if (isEqual) {\n            option = cachedOption;\n            break;\n          }\n        }\n        if (option) return option;\n        const label = (!isObject && !isNull && !isUndefined)\n          ? String(value) : '';\n        let newOption = {\n          value: value,\n          currentLabel: label\n        };\n        if (this.multiple) {\n          newOption.hitState = false;\n        }\n        return newOption;\n      },\n\n      setSelected() {\n        if (!this.multiple) {\n          let option = this.getOption(this.value);\n          if (option.created) {\n            this.createdLabel = option.currentLabel;\n            this.createdSelected = true;\n          } else {\n            this.createdSelected = false;\n          }\n          this.selectedLabel = option.currentLabel;\n          this.selected = option;\n          if (this.filterable) this.query = this.selectedLabel;\n          return;\n        }\n        let result = [];\n        if (Array.isArray(this.value)) {\n          this.value.forEach(value => {\n            result.push(this.getOption(value));\n          });\n        }\n        this.selected = result;\n        this.$nextTick(() => {\n          this.resetInputHeight();\n        });\n      },\n\n      handleFocus(event) {\n        if (!this.softFocus) {\n          if (this.automaticDropdown || this.filterable) {\n            this.visible = true;\n            if (this.filterable) {\n              this.menuVisibleOnFocus = true;\n            }\n          }\n          this.$emit('focus', event);\n        } else {\n          this.softFocus = false;\n        }\n      },\n\n      blur() {\n        this.visible = false;\n        this.$refs.reference.blur();\n      },\n\n      handleBlur(event) {\n        setTimeout(() => {\n          if (this.isSilentBlur) {\n            this.isSilentBlur = false;\n          } else {\n            this.$emit('blur', event);\n          }\n        }, 50);\n        this.softFocus = false;\n      },\n\n      handleClearClick(event) {\n        this.deleteSelected(event);\n      },\n\n      doDestroy() {\n        this.$refs.popper && this.$refs.popper.doDestroy();\n      },\n\n      handleClose() {\n        this.visible = false;\n      },\n\n      toggleLastOptionHitState(hit) {\n        if (!Array.isArray(this.selected)) return;\n        const option = this.selected[this.selected.length - 1];\n        if (!option) return;\n\n        if (hit === true || hit === false) {\n          option.hitState = hit;\n          return hit;\n        }\n\n        option.hitState = !option.hitState;\n        return option.hitState;\n      },\n\n      deletePrevTag(e) {\n        if (e.target.value.length <= 0 && !this.toggleLastOptionHitState()) {\n          const value = this.value.slice();\n          value.pop();\n          this.$emit('input', value);\n          this.emitChange(value);\n        }\n      },\n\n      managePlaceholder() {\n        if (this.currentPlaceholder !== '') {\n          this.currentPlaceholder = this.$refs.input.value ? '' : this.cachedPlaceHolder;\n        }\n      },\n\n      resetInputState(e) {\n        if (e.keyCode !== 8) this.toggleLastOptionHitState(false);\n        this.inputLength = this.$refs.input.value.length * 15 + 20;\n        this.resetInputHeight();\n      },\n\n      resetInputHeight() {\n        if (this.collapseTags && !this.filterable) return;\n        this.$nextTick(() => {\n          if (!this.$refs.reference) return;\n          let inputChildNodes = this.$refs.reference.$el.childNodes;\n          let input = [].filter.call(inputChildNodes, item => item.tagName === 'INPUT')[0];\n          const tags = this.$refs.tags;\n          const tagsHeight = tags ? Math.round(tags.getBoundingClientRect().height) : 0;\n          const sizeInMap = this.initialInputHeight || 40;\n          input.style.height = this.selected.length === 0\n            ? sizeInMap + 'px'\n            : Math.max(\n              tags ? (tagsHeight + (tagsHeight > sizeInMap ? 6 : 0)) : 0,\n              sizeInMap\n            ) + 'px';\n          if (this.visible && this.emptyText !== false) {\n            this.broadcast('ElSelectDropdown', 'updatePopper');\n          }\n        });\n      },\n\n      resetHoverIndex() {\n        setTimeout(() => {\n          if (!this.multiple) {\n            this.hoverIndex = this.options.indexOf(this.selected);\n          } else {\n            if (this.selected.length > 0) {\n              this.hoverIndex = Math.min.apply(null, this.selected.map(item => this.options.indexOf(item)));\n            } else {\n              this.hoverIndex = -1;\n            }\n          }\n        }, 300);\n      },\n\n      handleOptionSelect(option, byClick) {\n        if (this.multiple) {\n          const value = (this.value || []).slice();\n          const optionIndex = this.getValueIndex(value, option.value);\n          if (optionIndex > -1) {\n            value.splice(optionIndex, 1);\n          } else if (this.multipleLimit <= 0 || value.length < this.multipleLimit) {\n            value.push(option.value);\n          }\n          this.$emit('input', value);\n          this.emitChange(value);\n          if (option.created) {\n            this.query = '';\n            this.handleQueryChange('');\n            this.inputLength = 20;\n          }\n          if (this.filterable) this.$refs.input.focus();\n        } else {\n          this.$emit('input', option.value);\n          this.emitChange(option.value);\n          this.visible = false;\n        }\n        this.isSilentBlur = byClick;\n        this.setSoftFocus();\n        if (this.visible) return;\n        this.$nextTick(() => {\n          this.scrollToOption(option);\n        });\n      },\n\n      setSoftFocus() {\n        this.softFocus = true;\n        const input = this.$refs.input || this.$refs.reference;\n        if (input) {\n          input.focus();\n        }\n      },\n\n      getValueIndex(arr = [], value) {\n        const isObject = Object.prototype.toString.call(value).toLowerCase() === '[object object]';\n        if (!isObject) {\n          return arr.indexOf(value);\n        } else {\n          const valueKey = this.valueKey;\n          let index = -1;\n          arr.some((item, i) => {\n            if (getValueByPath(item, valueKey) === getValueByPath(value, valueKey)) {\n              index = i;\n              return true;\n            }\n            return false;\n          });\n          return index;\n        }\n      },\n\n      toggleMenu() {\n        if (!this.selectDisabled) {\n          if (this.menuVisibleOnFocus) {\n            this.menuVisibleOnFocus = false;\n          } else {\n            this.visible = !this.visible;\n          }\n          if (this.visible) {\n            (this.$refs.input || this.$refs.reference).focus();\n          }\n        }\n      },\n\n      selectOption() {\n        if (!this.visible) {\n          this.toggleMenu();\n        } else {\n          if (this.options[this.hoverIndex]) {\n            this.handleOptionSelect(this.options[this.hoverIndex]);\n          }\n        }\n      },\n\n      deleteSelected(event) {\n        event.stopPropagation();\n        const value = this.multiple ? [] : '';\n        this.$emit('input', value);\n        this.emitChange(value);\n        this.visible = false;\n        this.$emit('clear');\n      },\n\n      deleteTag(event, tag) {\n        let index = this.selected.indexOf(tag);\n        if (index > -1 && !this.selectDisabled) {\n          const value = this.value.slice();\n          value.splice(index, 1);\n          this.$emit('input', value);\n          this.emitChange(value);\n          this.$emit('remove-tag', tag.value);\n        }\n        event.stopPropagation();\n      },\n\n      onInputChange() {\n        if (this.filterable && this.query !== this.selectedLabel) {\n          this.query = this.selectedLabel;\n          this.handleQueryChange(this.query);\n        }\n      },\n\n      onOptionDestroy(index) {\n        if (index > -1) {\n          this.optionsCount--;\n          this.filteredOptionsCount--;\n          this.options.splice(index, 1);\n        }\n      },\n\n      resetInputWidth() {\n        this.inputWidth = this.$refs.reference.$el.getBoundingClientRect().width;\n      },\n\n      handleResize() {\n        this.resetInputWidth();\n        if (this.multiple) this.resetInputHeight();\n      },\n\n      checkDefaultFirstOption() {\n        this.hoverIndex = -1;\n        // highlight the created option\n        let hasCreated = false;\n        for (let i = this.options.length - 1; i >= 0; i--) {\n          if (this.options[i].created) {\n            hasCreated = true;\n            this.hoverIndex = i;\n            break;\n          }\n        }\n        if (hasCreated) return;\n        for (let i = 0; i !== this.options.length; ++i) {\n          const option = this.options[i];\n          if (this.query) {\n            // highlight first options that passes the filter\n            if (!option.disabled && !option.groupDisabled && option.visible) {\n              this.hoverIndex = i;\n              break;\n            }\n          } else {\n            // highlight currently selected option\n            if (option.itemSelected) {\n              this.hoverIndex = i;\n              break;\n            }\n          }\n        }\n      },\n\n      getValueKey(item) {\n        if (Object.prototype.toString.call(item.value).toLowerCase() !== '[object object]') {\n          return item.value;\n        } else {\n          return getValueByPath(item.value, this.valueKey);\n        }\n      }\n    },\n\n    created() {\n      this.cachedPlaceHolder = this.currentPlaceholder = this.propPlaceholder;\n      if (this.multiple && !Array.isArray(this.value)) {\n        this.$emit('input', []);\n      }\n      if (!this.multiple && Array.isArray(this.value)) {\n        this.$emit('input', '');\n      }\n\n      this.debouncedOnInputChange = debounce(this.debounce, () => {\n        this.onInputChange();\n      });\n\n      this.debouncedQueryChange = debounce(this.debounce, (e) => {\n        this.handleQueryChange(e.target.value);\n      });\n\n      this.$on('handleOptionClick', this.handleOptionSelect);\n      this.$on('setSelected', this.setSelected);\n    },\n\n    mounted() {\n      if (this.multiple && Array.isArray(this.value) && this.value.length > 0) {\n        this.currentPlaceholder = '';\n      }\n      addResizeListener(this.$el, this.handleResize);\n\n      const reference = this.$refs.reference;\n      if (reference && reference.$el) {\n        const sizeMap = {\n          medium: 36,\n          small: 32,\n          mini: 28\n        };\n        const input = reference.$el.querySelector('input');\n        this.initialInputHeight = input.getBoundingClientRect().height || sizeMap[this.selectSize];\n      }\n      if (this.remote && this.multiple) {\n        this.resetInputHeight();\n      }\n      this.$nextTick(() => {\n        if (reference && reference.$el) {\n          this.inputWidth = reference.$el.getBoundingClientRect().width;\n        }\n      });\n      this.setSelected();\n    },\n\n    beforeDestroy() {\n      if (this.$el && this.handleResize) removeResizeListener(this.$el, this.handleResize);\n    }\n  };\n</script>\n"]}]}